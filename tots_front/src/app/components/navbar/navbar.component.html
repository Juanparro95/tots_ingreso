<nav class="navbar-premium">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full">
    <div class="flex justify-between items-center h-16 sm:h-20 w-full">
      <!-- Logo Section -->
      <a routerLink="/" class="flex items-center justify-center gap-2 hover-lift group flex-shrink-0 h-full" title="Ir al inicio">
        <div class="w-10 h-10 sm:w-5 sm:h-10 rounded-lg gradient-primary flex items-center justify-center shadow-lg group-hover:shadow-xl transition-all duration-300 flex-shrink-0">
          <i class="pi pi-building text-white text-lg sm:text-xxl"></i>
        </div>
        <span class="navbar-brand hidden sm:inline text-lg sm:text-2xl leading-none">TOTS</span>
      </a>

      <!-- Desktop Navigation - Center -->
      <div class="hidden md:flex items-center gap-6 lg:gap-8 flex-1 justify-center px-8">
        <a
          *ngIf="isLoggedIn"
          routerLink="/spaces"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: false }"
          class="nav-link">
          <i class="pi pi-building mr-2"></i><span>Espacios</span>
        </a>
        <a
          *ngIf="isLoggedIn"
          routerLink="/my-reservations"
          routerLinkActive="active"
          [routerLinkActiveOptions]="{ exact: false }"
          class="nav-link">
          <i class="pi pi-calendar mr-2"></i><span>Mis Reservas</span>
        </a>
      </div>

      <!-- Right Section -->
      <div class="flex items-center gap-2 sm:gap-4 lg:gap-6 flex-shrink-0">
        <!-- User Info - Desktop Only -->
        <div *ngIf="isLoggedIn" class="hidden lg:flex items-center gap-3 pr-4 border-r border-gray-200">
          <div class="text-right">
            <p class="text-sm font-semibold text-slate-900">{{ getCurrentUser()?.name }}</p>
            <span *ngIf="isAdmin" class="inline-flex items-center gap-1 text-xs">
              <span class="w-2 h-2 bg-emerald-500 rounded-full"></span>
              <span class="text-emerald-700 font-medium">Admin</span>
            </span>
          </div>
          <div class="w-9 h-9 rounded-full gradient-primary flex items-center justify-center text-white font-bold text-sm shadow-md">
            {{ (getCurrentUser()?.name || 'U')[0] }}
          </div>
        </div>

        <!-- Actions -->
        <div class="flex items-center gap-1 sm:gap-3">
          <button
            *ngIf="isLoggedIn"
            (click)="logout()"
            pButton
            type="button"
            icon="pi pi-sign-out"
            class="p-button-text p-button-sm"
            pRipple
            [title]="'Cerrar sesión de ' + getCurrentUser()?.name">
            <span class="hidden sm:inline ml-2">Salir</span>
          </button>
          <a
            *ngIf="!isLoggedIn"
            routerLink="/login"
            class="nav-link-auth">
            <span>Iniciar Sesión</span>
            <i class="pi pi-arrow-right text-xs"></i>
          </a>
        </div>

        <!-- Mobile Menu Button -->
        <button
          (click)="toggleMobileMenu()"
          pButton
          type="button"
          pRipple
          class="p-button p-button-text md:hidden"
          [icon]="isMobileMenuOpen ? 'pi pi-times' : 'pi pi-bars'"
          [attr.aria-label]="isMobileMenuOpen ? 'Cerrar menú' : 'Abrir menú'">
        </button>
      </div>
    </div>

    <!-- Mobile Navigation Menu -->
    <div
      *ngIf="isMobileMenuOpen"
      class="md:hidden border-t border-gray-200 py-4 space-y-2 animate-in fade-enter bg-gradient-to-b from-white to-slate-50">
      <!-- Mobile User Info -->
      <div *ngIf="isLoggedIn" class="px-4 py-3 border-b border-gray-200 mb-2">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-full gradient-primary flex items-center justify-center text-white font-bold text-sm">
            {{ (getCurrentUser()?.name || 'U')[0] }}
          </div>
          <div>
            <p class="text-sm font-semibold text-slate-900">{{ getCurrentUser()?.name }}</p>
            <span *ngIf="isAdmin" class="inline-flex items-center gap-1 text-xs">
              <span class="w-1.5 h-1.5 bg-emerald-500 rounded-full"></span>
              <span class="text-emerald-700 font-medium">Admin</span>
            </span>
          </div>
        </div>
      </div>

      <a
        *ngIf="isLoggedIn"
        routerLink="/spaces"
        routerLinkActive="active"
        (click)="toggleMobileMenu()"
        class="nav-link-mobile">
        <i class="pi pi-building mr-3"></i>Espacios
      </a>
      <a
        *ngIf="isLoggedIn"
        routerLink="/my-reservations"
        routerLinkActive="active"
        (click)="toggleMobileMenu()"
        class="nav-link-mobile">
        <i class="pi pi-calendar mr-3"></i>Mis Reservas
      </a>
      <div *ngIf="isLoggedIn && isAdmin" class="pt-3 mt-3 border-t border-gray-200">
        <a
          routerLink="/admin"
          (click)="toggleMobileMenu()"
          class="nav-link-mobile">
          <i class="pi pi-shield mr-3"></i>Panel Admin
        </a>
      </div>
    </div>
  </div>
</nav>
